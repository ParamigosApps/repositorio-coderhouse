// ------------------------------ VARIABLES ------------------------------- //
$principal-color: #f7f7f7
$color-primario: #343a40
$color-primario-hover: #0c1d31
$color-texto-boton: #fff
$boton-color: #0d0d0d

$img-footer-size: 32px
$img-menu-size: 32px
$img-menu-minsize: 36px

// ------------------------------ RESETEO GLOBAL ------------------------------- //
* 
  box-sizing: border-box
  margin: 0
  padding: 0

html, body 
  height: 100%

body 
  display: flex
  flex-direction: column
  min-height: 100vh

main 
  flex-grow: 1

// ------------------------------ LOGOS E IMÁGENES ------------------------------- //
.logoimg 
  max-width: 180px
  max-height: 60px
  transition: max-width 0.3s ease, transform 0.3s ease

.img-footer-size 
  max-height: $img-footer-size
  transition: transform 0.3s ease

  &:hover 
    transform: scale(1.1) rotate(6deg)
  
  &:active 
    transform: scale(0.95) rotate(2deg)

.img-menu-size 
  max-height: $img-menu-size

.img-producto-carrito 
  width: 64px
  height: 64px

// Definición base del icono del carrito (se sobrescribe más abajo para casos específicos)

// ------------------------------ HEADER ------------------------------- //

header
  min-height: 8vh
  display: flex
  align-items: center
  justify-content: center 
  position: relative      
  padding: 10px 20px
  background-color: $principal-color
  box-shadow: 0 2px 5px rgba(0,0,0,0.1)

// ------------------------------ BOTONES ------------------------------- //
@mixin boton($boton-color) 
  text-align: center
  text-decoration: none
  font-size: 1rem
  padding: 8px 16px
  margin: 20px 0 56px
  border-radius: 8px
  border: 1px solid $boton-color
  background: $boton-color
  color: #fff
  cursor: pointer
  transition: transform 0.3s, box-shadow 0.3s
  box-shadow: 0 4px 16px rgba(17, 40, 75, 0.505)

  &:hover 
    transform: scale(1.1)
    box-shadow: 0 8px 32px rgba(22, 108, 194, 0.731)

.btn-primary  
  @include boton($boton-color) 

#btn-cerrarsesion 
  @include boton($boton-color)
  background: #d80808
  border: 1px solid #f1d3d3

  &:hover 
    box-shadow: 0 8px 32px rgba(228, 9, 9, 0.731)

.btn-ingresar 
  @include boton($boton-color)
  background: #28da18
  border: 1px solid #22bd27
  font-size: 0.9rem

  &:hover 
    box-shadow: 0 8px 32px rgba(66, 222, 55, 0.731)

#boton-enviar-form 
  @include boton($boton-color)
  background-color: #14a8e2
  font-size: 1.2rem

  &:hover 
    border: 2px solid #235f77
    background-color: #6bd5ff
    transform: scale(1.08)

// ------------------------------ FOOTER ------------------------------- //
.footer 
  background-color: #313131
  color: #fff
  text-align: center
  padding: 0.8rem
  font-size: 0.9rem
  width: 100%
  border-top: 1px solid #ddd
  margin-top: auto

// ------------------------------ MENÚ DESPLEGABLE ------------------------------- //
.menu-desplegable 
  padding: 0.5rem
  box-sizing: border-box

  .accordion 
    width: 100%
    border-radius: 1rem
    overflow: hidden
    box-shadow: 0 0 10px rgba(0,0,0,0.05)
  
  .accordion-button 
    background-color: #f9fafb
    font-weight: 600
    font-size: 1.1rem
    color: #212529
    transition: background 0.3s ease

    &:not(.collapsed) 
      color: #fff
      background-color: #212529

  .accordion-item 
    border: none
    border-bottom: 1px solid #e9ecef

  .accordion-body 
    background: #fff
    padding: 1.2rem

  .btn 
    border-radius: 0.6rem
    font-weight: 500
    transition: all 0.3s ease

  .btn-outline-dark 
    border-color: #343a40
    color: #343a40

    &:hover 
      background-color: #343a40
      color: #fff

  @media (min-width: 992px) 
    padding: 3rem 8rem


// ------------------------------ PRODUCTOS ------------------------------- //
.product-card 
  display: flex
  justify-content: space-between
  align-items: flex-start
  width: 100%
  height: 120px
  background: #fff
  border-radius: 12px
  padding: 4px
  box-shadow: 0 2px 12px rgba(0,0,0,0.06)
  transition: transform 0.2s, box-shadow 0.2s
  cursor: pointer

  img 
    width: 120px
    height: 100%
    object-fit: cover
    border-radius: 6px
    margin: 4px

  &:hover 
    transform: scale(1.03)
    box-shadow: 0 8px 20px rgba(0,0,0,0.2)

  h3  
    font-size: 1.2rem
    font-weight: bold
    padding-top: 12px
    height: 30px

.product-info 
  display: flex
  flex-direction: column
  justify-content: space-between
  flex: 1

  h3  
    font-size: 1.1rem
    font-weight: 600
    height: 48px
    padding-left: 4px 

  p   
    font-size: 0.95rem
    color: #555
    height: 36px
    padding-left: 4px 

  h5  
    font-size: 1rem
    font-weight: 500
    color: #222
    height: 32px
    width: 80% 

.producto-sin-stock  
  opacity: 0.5
  pointer-events: none 

.sin-stock 
  position: absolute
  top: 10px
  left: 10px
  background: #ff2d03e0
  color: #fff
  padding: 2px 6px
  border-radius: 4px
  font-size: 0.8rem

// PRODUCTOS CARD ADMIN PANEL
.card 
  min-width: 300px
.card-body
  padding: 0.5rem
  display: flex
  flex-direction: column
  
  h5
    font-size: 1.1rem
    font-weight: 600
    color: #212529
    margin-bottom: 0.5rem
    line-height: 1.3
    
  p
    font-size: 0.875rem
    color: #6c757d
    margin-bottom: 0.75rem
    
  h6
    font-size: 1.25rem
    font-weight: 700
    color: #198754
    margin-bottom: 1rem
    
  .badge
    font-size: 0.75rem
    font-weight: 600
    padding: 0.35em 0.65em
    
  .btn-sm
    font-size: 0.875rem
    padding: 0.375rem 0.75rem
    border-radius: 0.375rem
    transition: all 0.2s ease
    
    &:hover
      transform: translateY(-1px)
      box-shadow: 0 4px 8px rgba(0,0,0,0.15)

// CARD PRODUCTOS EXPANDIDOS
div:where(.swal2-container)
  display: flex
  align-items: center
  justify-content: center
  padding: 6px
  inset: 0
  position: fixed
  z-index: 1060
  overflow-x: hidden
  background-color: rgba(0,0,0,0.4) // opcional para sombra de fondo
  transition: var(--swal2-backdrop-transition)

.swal2-title
  font-size: 1.4rem
  
.product-card-popup
  width: 100%
  max-width: 360px
  padding: 0

.product-card-expandida
  width: 100%
  max-width: 360px
  padding: 20px
  border-radius: 12px
  text-align: center
  background-color: #f7f7f7
  box-shadow: 0 6px 18px rgba(0,0,0,0.1)
  transition: transform 0.3s ease, box-shadow 0.3s ease

  &:hover
    transform: translateY(-4px)
    box-shadow: 0 12px 24px rgba(0,0,0,0.15)

  &__img
    width: 100%
    border-radius: 8px
    margin-bottom: 15px
    transition: transform 0.3s ease

    &:hover
      transform: scale(1.20)

  &__descripcion
    font-size: 0.9rem
    margin-bottom: 10px
    color: #333

  &__precio
    font-size: 1rem
    margin-bottom: 5px
    font-weight: 600
    color: #1a1a1a

  &__btn
    width: 100%
    background-color: #343a40
    color: #fff
    font-weight: 500
    padding: 6px
    border-radius: 6px
    transition: background-color 0.3s ease, transform 0.2s ease

    &:hover:not(:disabled)
      background-color: #232323
      transform: scale(1.03)

    &:disabled
      background-color: #2d2d2db6
      cursor: not-allowed


// FORMULARIOS ADMIN PANEL
#form-crear-producto
  .form-label
    font-weight: 600
    color: #495057
    font-size: 0.95rem
    margin-bottom: 0.5rem
    
  .form-control,
  .form-select
    border: 1.5px solid #dee2e6
    border-radius: 0.5rem
    padding: 0.625rem 0.875rem
    font-size: 0.95rem
    transition: all 0.2s ease
    background-color: #fff
    
    &:focus
      border-color: #343a40
      box-shadow: 0 0 0 0.2rem rgba(52, 58, 64, 0.15)
      outline: none
      
    &::placeholder
      color: #adb5bd
      font-size: 0.9rem
      
  textarea.form-control
    resize: vertical
    min-height: 80px
    line-height: 1.5
    
  .form-select
    cursor: pointer
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e")
    background-repeat: no-repeat
    background-position: right 0.75rem center
    background-size: 16px 12px
    padding-right: 2.5rem
    
  input[type="file"].form-control
    padding: 0.5rem
    cursor: pointer
    
    &::file-selector-button
      padding: 0.5rem 1rem
      margin-right: 1rem
      border: 1px solid #dee2e6
      border-radius: 0.375rem
      background-color: #f8f9fa
      color: #495057
      font-weight: 500
      cursor: pointer
      transition: all 0.2s ease
      
      &:hover
        background-color: #e9ecef
        border-color: #adb5bd
        
  #contadorDescripcion
    font-size: 0.8rem
    font-weight: 500
    
  .form-check
    padding-left: 1.75rem
    
    .form-check-input
      width: 1.25rem
      height: 1.25rem
      margin-top: 0.125rem
      margin-left: -1.75rem
      cursor: pointer
      border: 2px solid #dee2e6
      transition: all 0.2s ease
      
      &:checked
        background-color: #343a40
        border-color: #343a40
        
      &:focus
        box-shadow: 0 0 0 0.2rem rgba(52, 58, 64, 0.15)
        
    .form-check-label
      cursor: pointer
      font-size: 0.95rem
      color: #495057
  
// ------------------------------ BOTÓN GOOGLE ------------------------------- //
.google-btn 
  display: flex
  align-items: center
  justify-content: center
  width: 75%
  padding: 8px
  border-radius: 8px
  font-weight: 600
  cursor: pointer
  border: 1px solid #dadce0
  background: linear-gradient(145deg, #fff, #f1f3f4)
  color: #202124
  font-family: 'Roboto', sans-serif
  transition: all 0.25s ease

  img  
    height: 24px
    width: 24px
    margin: 0 12px 

  span  
    flex: 1
    text-align: center
    font-size: 1.1rem 

  &:hover  
    background: linear-gradient(145deg, #f1f3f4, #e8eaed)
    transform: translateY(-2px) 

  &:active  
    background: linear-gradient(145deg, #e0e0e0, #d6d6d6)
    transform: translateY(0) 

  &.logout 
    width: 13rem
    border-color: #dc3545

    &:hover  
      background: #dc3545
      transform: translateY(-2px) 

    &:active  
      background: #d2636e
      transform: translateY(0)

// ------------------------------ CATALOGO ------------------------------- //
.catalogo 
  width: 100%
  max-width: 520px
  margin: 3rem auto
  background-color: $principal-color
  padding: 1rem
  border-radius: 8px
  box-shadow: 0 0 10px rgba(0,0,0,0.05)
  display: flex
  flex-wrap: wrap

.categoria-titulo 
  font-size: 2rem
  padding: 2rem 0 0 0
  color: #212529
  font-weight: 600
  border-top: 2px solid #e9ecef
  text-align: center

.productos-grid 
  display: grid
  gap: 1.5rem
  justify-items: center

// ADMIN.HTML HORARIOS INPUT

  .horario-container .inputs 
  display: flex
  gap: 10px

.horario-container .inputs input 
  flex: 0 0 25% 


// ------------------------------- RESPONSIVE -------------------------------- //
@media (max-width: 576px) 
  header .logoimg  
    max-height: 50px 
 
  .menu-desplegable 
    padding: 0.5rem

    .accordion-button  
      font-size: 1rem
      padding: 0.9rem 

    .accordion-body  
      padding: 1rem 

    .btn  
      font-size: 0.95rem
      padding: 0.6rem 

  .catalogo  
    max-width: 100%
    padding: 0.8rem 

  .btn-volver  
    width: 100%
    font-size: 0.95rem
    padding: 0.9rem 

  .btn-categoria  
    font-size: 0.9rem
    padding: 0.4rem 0 


.product-card 
  .product-info
    h3
      font-size: 0.8rem
      height: 38px
      padding-left: 4px 

    h5  
      font-size: 1.2rem

  img 
    width: 100px
    max-height: 110px
    object-fit: cover
    border-radius: 6px
    margin: 0px

// -------------------------------------------- HTML QR --------------------------------------------

// ---------------------- Variables ----------------------
$qr-color-fondo: #f8f9fa
$qr-color-texto: #343a40
$qr-color-verde: #198754
$qr-color-amarillo: #ffc107
$qr-color-rojo: #dc3545
$qr-video-max-width: 400px
$qr-video-border-radius: 12px
$qr-video-border-color: #343a40

// ------------------ BOTONES SWAL ------------------ //
.swal2-actions 
  display: flex !important
  gap: 6px !important
  justify-content: center !important


// ------------------ ESTILOS QR VERIFICADOR ------------------ //
.qr-body
  font-family: Arial, sans-serif
  background: linear-gradient(120deg, #f8f9fa, #e9ecef)
  display: flex
  justify-content: center
  align-items: flex-start
  min-height: 100vh
  padding: 20px
  margin: 0

.container
  width: 100%
  max-width: 480px

.qr-title
  color: #343a40
  font-size: 2rem
  font-weight: 700

.qr-video-container
  position: relative
  display: flex
  justify-content: center

.qr-video
  width: 100%
  border-radius: 15px
  border: 4px solid #343a40
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25)

.qr-canvas
  display: none

.qr-resultado
  margin-top: 20px
  font-size: 1.3rem
  font-weight: 600
  min-height: 2em

.qr-resultado.valid
  color: #198754

.qr-resultado.used
  color: #ffc107

.qr-resultado.invalid
  color: #dc3545

.qr-info-adicional
  margin-top: 10px
  font-size: 1rem
  font-weight: 500
  color: #495057



  // ------------------ MODAL CRUD PRODUCTOS ------------------ //

#modalProducto
  display: none
  position: fixed
  inset: 0
  background: rgba(0, 0, 0, .45)
  justify-content: center
  align-items: center

.modal-content
  width: 420px
  background: #fff
  padding: 25px
  border-radius: 12px
  box-shadow: 0 8px 20px rgba(0, 0, 0, .25)

.modal-actions
  display: flex
  justify-content: flex-end
  gap: 10px

.modal-content input,
.modal-content textarea
  width: 100%
  margin-bottom: 12px
  padding: 10px
  border-radius: 8px
  border: 1px solid #ccc


  // CARRITO DESPLEGABLE
/* carrito panel */
.carrito-overlay 
  position: fixed
  inset: 0
  background: rgba(141, 139, 139, 0.578)
  z-index: 1040
  display: block

.carrito-panel 
  position: fixed
  top: 0
  right: -100%
  width: 360px
  height: 100%
  background: #fff
  z-index: 1050
  box-shadow: -8px 0 24px rgba(0,0,0,0.12)
  transition: right 280ms cubic-bezier(.2,.9,.2,1)
  display: flex
  flex-direction: column

  &.open
    right: 0 

.carrito-icono
  position: fixed
  right: 18px
  bottom: 18px
  z-index: 1060
  cursor: pointer
  display: flex
  align-items: center
  gap: 8px
  background: #fff
  padding: 8px
  border-radius: 999px
  box-shadow: 0 6px 18px rgba(0,0,0,.12)

.carrito-contador
  background: #dc3545
  color: #fff
  border-radius: 999px
  padding: 2px 8px
  font-weight: 600
  font-size: 0.85rem

// Icono del carrito (versión flotante - panel lateral)
#img-carrito
  width: 3rem
  height: 3rem
  object-fit: contain
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), filter 0.3s ease
  cursor: pointer
  user-select: none
  -webkit-user-drag: none
  pointer-events: auto
  
  &:hover
    transform: scale(1.1) rotate(5deg)
    filter: brightness(1.15) drop-shadow(0 2px 4px rgba(0,0,0,0.1))
    
  &:active
    transform: scale(0.95) rotate(-2deg)
    transition: transform 0.1s ease
    
  &.con-productos
    animation: pulse 1.5s ease-in-out infinite
    
@keyframes pulse
  0%, 100%
    transform: scale(1)
    filter: brightness(1)
  50%
    transform: scale(1.15)
    filter: brightness(1.3) drop-shadow(0 0 8px rgba(220, 53, 69, 0.6))
@media (max-width: 700px)
  .carrito-panel
    width: 100% 


// ------------------------------ HEADER CARRITO ICONO ------------------------------- //
header .navbar-brand 
  position: absolute
  left: 50%
  transform: translateX(-50%)
  z-index: 1

// Icono del carrito en el header
#carritoIcono
  position: absolute
  right: 1.5rem
  top: 50%
  transform: translateY(-50%)
  width: 44px
  height: 44px
  display: flex
  align-items: center
  justify-content: center
  background: rgba(255, 255, 255, 0.9)
  backdrop-filter: blur(10px)
  border-radius: 50%
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1)
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
  cursor: pointer
  z-index: 10
  
  &:hover
    transform: translateY(-50%) scale(1.1)
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2), 0 4px 8px rgba(0, 0, 0, 0.15)
    background: rgba(255, 255, 255, 1)
    
  &:active
    transform: translateY(-50%) scale(0.95)
    transition: transform 0.1s ease

  // Imagen del carrito dentro del icono del header
  #img-carrito
    position: relative
    width: 28px
    height: 28px
    object-fit: contain
    transition: transform 0.2s ease
    margin: 0
    
    &:hover
      transform: scale(1.1)

// Contador de productos en el header
header .contadorCarrito
  position: absolute
  top: -4px
  right: -4px
  width: 18px
  height: 18px
  display: flex
  background: linear-gradient(135deg, #dc3545, #c82333)
  color: #fff
  border-radius: 50%
  padding: 0 6px
  font-size: 0.7rem
  font-weight: 700
  box-shadow: 0 2px 6px rgba(220, 53, 69, 0.4), 0 0 0 2px #fff
  animation: bounceIn 0.4s ease-out
  
  &:empty
    display: none

@keyframes bounceIn
  0%
    transform: scale(0)
    opacity: 0
  50%
    transform: scale(1.2)
  100%
    transform: scale(1)
    opacity: 1
  

